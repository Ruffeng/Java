import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;

/**
 * Test class of Exercise 1
 *
 * @author POO teaching staff
 * @version 1.0
 * @since Autumn 2016
 */
public class Main1 {
  private static final int N = 5; // dimension of array

  /**
   *
   * Changes status of patient visits for today to STATUS_ADMITTED
   * @param visits Array of hospital visits
   * @param patID String with patient identifier
   */
  private static void admit(Visit[] visits,String patID) {
//	String today = "2016-10-17 10:00";
//	SimpleDateFormat dateFormatter = new SimpleDateFormat("yyyy-MM-dd HH:mm");
//	String dayAndHour = dateFormatter.format(today);
	
	for(Visit visit : visits){
    	if(visit.scheduledForToday()){
    		System.out.println("Programada per avui");
    	} 
    }
  }

  /**
   *
   * Prints on screen patient visits with status STATUS_ADMITTED
   * @param visits Array of hospital visits
   * @param patID String with patient identifier
   */
  private static void printAdmittedVisits(Visit[] visits,String patID) {
    // TODO
  }

  /**
   *
   * @param visits Array of hospital visits
   * @param serviceID String with service identifier
   */
  private static boolean serviceHasVisits(Visit[] visits,String serviceID) {
	  boolean check = false;
	  for (Visit visit: visits){
		 String service = visit.getServiceID();
		 if (serviceID == service){
			check = true;
		 }
	 }
	  return check;
  }

  public static void main(String[] args) {
    Visit[] visits = new Visit[N];

    visits[0] = new Visit("0000000001","1000000001","CARSRV","Cardiology Door 1","2016-10-17 10:00","Dr. John Heart",Visit.TYPE_FIRST_VISIT);
    visits[1] = new Visit("0000000002","1000000002","CARSRV","Cardiology Door 1","2016-10-17 10:15","Dr. John Heart",Visit.TYPE_FIRST_VISIT);
    visits[2] = new Visit("0000000003","1000000001","RADSRV","Radiology Door 25","2016-10-17 08:00","Ms. Uranium",Visit.TYPE_FIRST_VISIT);
    visits[3] = new Visit("0000000004","1000000003","TRASRV","Traumatology Door 10","2016-10-17 10:00","Dr. Joe Bones",Visit.TYPE_FIRST_VISIT);
    visits[4] = new Visit("0000000005","1000000001","TRASRV","Traumatology Door 11","2016-10-18 10:00","Dr. Mary Legs",Visit.TYPE_FIRST_VISIT);

    System.out.println("Service CARSRV has scheduled visits? "+(serviceHasVisits(visits,"CARSRV")?"YES":"NO"));
    System.out.println("Service TRASRV has scheduled visits? "+(serviceHasVisits(visits,"TRASRV")?"YES":"NO"));
    System.out.println("Service RADSRV has scheduled visits? "+(serviceHasVisits(visits,"RADSRV")?"YES":"NO"));
    System.out.println("Service NEUSRV has scheduled visits? "+(serviceHasVisits(visits,"NEUSRV")?"YES":"NO"));

    System.out.println("PATID: 1000000001");
    admit(visits,"1000000001");
    printAdmittedVisits(visits,"1000000001");

    System.out.println("PATID: 1000000002");
    admit(visits,"1000000002");
    printAdmittedVisits(visits,"1000000002");

    System.out.println("PATID: 1000000003");
    admit(visits,"1000000003");
    printAdmittedVisits(visits,"1000000003");

    System.out.println("PATID: 1000000004");
    admit(visits,"1000000004");
    printAdmittedVisits(visits,"1000000004");

    System.out.println("PATID: 1000000005");
    admit(visits,"1000000005");
    printAdmittedVisits(visits,"1000000005");
  }
}
